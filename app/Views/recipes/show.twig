{% extends "layout.twig" %}

{% block content %}
  {% if recipe %}
    <article>
      <h2>{{ recipe.title }}</h2>
      {% if recipe_cats is defined and recipe_cats %}
        <div style="margin:6px 0 10px; display:flex; gap:6px; flex-wrap:wrap;">
          {% for c in recipe_cats %}
            <a href="{{ base }}/recipes?cat={{ c.slug }}" class="badge">{{ c.name }}</a>
          {% endfor %}
        </div>
      {% endif %}

      {% if recipe.image_path %}
        <img src="{{ base }}/{{ recipe.image_path }}" alt="{{ recipe.title }}"
            style="width:100%; max-width:900px; height:auto; border-radius:12px; display:block; margin:12px 0;">
      {% endif %}

      <p style="color:#666;">Publiée le {{ recipe.created_at }}</p>
      <div style="margin-top:12px;">{{ recipe.content|nl2br }}</div>

      <p style="margin-top:16px;">
        <a href="{{ base }}/recipes">⟵ Retour à la liste</a>
      </p>
    </article>
  {% else %}
    <h2>Recette introuvable</h2>
    <p>La recette demandée n’existe pas ou a été supprimée.</p>
    <p><a href="{{ base }}/recipes">⟵ Retour à la liste</a></p>
  {% endif %}
{% endblock %}
